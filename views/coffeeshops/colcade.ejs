<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Accept-CH" content="DPR, Width">
    <!-- Google Fonts! -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Sansita+Swashed:wght@300;400;500;600&display=swap"
      rel="stylesheet">
    <!-- Font Awesome Icons -->
    <title>Coffee Shops</title>
    <!-- Customs Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/general.css">
    <link rel="stylesheet" href="/css/coffeeshops.css">
  </head>

  <body>
    <nav class="nav">
      <ul>
        <li><a class="nav__el" href="/">
            <h3 class="inline navFont">Find Me Food Now!</h3>
          </a></li>
        <li><a class="nav__el" href="/coffeeshops">Home</a></li>
        <li class="justify-end margin-right">
          <a class="nav__user nav__user__a hide">
            <div class="login hide">Login</div>
          </a>
          <div class="nav__user nav__user__div hide">
            <div class="user hide">User</div>
            <div class="dropdown--content">
              <a class="dropdown--profile">Profile</a>
              <form class="dropdown--logout" action="/users/logout" method="POST">
                <div class="submit">Logout</div>
              </form>
            </div>
          </div>
        </li>
      </ul>
    </nav>

    <!-- SEARCH BAR AND GRID LAYOUT BUTTON -->
    <div class="container">
      <div class="widgetBar">
        <!-- search input -->
        <div class="searchbar basis-90">
          <label for="searchbar__input" class="searchbar__wrapper">
            <svg class="searchbar__wrapper__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.005 512.005">
              <path
                d="M505.749,475.587l-145.6-145.6c28.203-34.837,45.184-79.104,45.184-127.317c0-111.744-90.923-202.667-202.667-202.667
                    S0,90.925,0,202.669s90.923,202.667,202.667,202.667c48.213,0,92.48-16.981,127.317-45.184l145.6,145.6
                    c4.16,4.16,9.621,6.251,15.083,6.251s10.923-2.091,15.083-6.251C514.091,497.411,514.091,483.928,505.749,475.587z
                    M202.667,362.669c-88.235,0-160-71.765-160-160s71.765-160,160-160s160,71.765,160,160S290.901,362.669,202.667,362.669z" />
            </svg>
          </label>
          <form class="searchbar__input" action="/colcade" method="GET">
            <input class="searchbar__input__text" type="search" name="search" placeholder="Search for Restaurants">
          </form>
        </div>
        <!-- button to change the grid layout -->
        <div class="dropdown dropdown--svg justify-end">
          <button class="dropdown__toggle">
            <svg>
              <use href="#masonry""></use>
        </svg>
      </button>
      <div class=" dropdown__drawer">
                <ul class="menu menu--svg">
                  <li id="masonry-grid"><svg>
                      <use href="#masonry"></use>
                    </svg>
                    <p>Masonry</p>
                  </li>
                  <li id="large-grid"><svg>
                      <use href="#grid-large"></use>
                    </svg>
                    <p>Large</p>
                  </li>
                  <li id="small-grid"><svg>
                      <use href="#grid-small"></use>
                    </svg>
                    <p>Small</p>
                  </li>
                </ul>
        </div>
      </div>
    </div>


    </div>
    <!-- COFFEE SHOP CARDS -->
    <div class="container-fluid">
      <div class="row">

        <div class="grid col-lg-3 col-md-4 col-sm-6 col-xs-12" data-col="0">
          <% shops.forEach(coffeeShop => { %>
          <div class="card card--v2">
            <div class="card__image carousel">
              <% for(let i = 0; i < coffeeShop.images.length; i++) { %>
              <% if(i === 0) { %>
              <a href="/coffeeShops/<%=coffeeShop._id%>">
                <img class="active carousel__image" data-src="<%=coffeeShop.images[i].filename%>" alt="...">
              </a>
              <% } else { %>
              <a href="/coffeeShops/<%=coffeeShop._id%>">
                <img class="carousel__image" data-src="<%=coffeeShop.images[i].filename%>" alt="...">
              </a>
              <% }} %>
              <div class="card__image__top">
                <h3><a href="/coffeeShops/<%=coffeeShop._id%>"><%=coffeeShop.name%></a>
                </h3>
              </div>
              <div class="card__image__bottom">
                <p><%=coffeeShop.description.slice(0,50)%>...</p>
              </div>
              <svg class="button--svg button--left hide">
                <use href="#svg--left"></use>
              </svg>
              <svg class="button--svg button--right hide">
                <use href="#svg--right"></use>
              </svg>
            </div>
          </div>
          <% }) %>
        </div>

        <div class="grid col-lg-3 col-md-4 col-sm-6 col-xs-12" data-col="1"></div>
        <div class="grid col-lg-3 col-md-4 col-sm-6 col-xs-12" data-col="2"></div>
        <div class="grid col-lg-3 col-md-4 col-sm-6 col-xs-12" data-col="3"></div>

      </div>
    </div>




    <footer>
      <p>The Footer. &copy; 2019 Turkey Stuff Inc.</p>
    </footer>
    </div>


    <!-- SVGs  -->
    <!-- layouts -->
    <svg display='none' xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
      x="0px" y="0px">
      <symbol id="grid-large" viewBox="0 0 64 80">
        <rect x="33" y="33" width="31" height="31" />
        <rect x="33" width="31" height="31" />
        <rect width="31" height="31" />
        <rect y="33" width="31" height="31" />
      </symbol>
    </svg>
    <svg display='none' xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
      x="0px" y="0px">
      <symbol id="grid-small" viewBox="0 0 64 80">
        <g>
          <rect y="22.875" width="20.125" height="18.25" />
          <rect x="22.125" y="22.875" width="19.75" height="18.25" />
          <rect x="22.125" width="19.75" height="20.875" />
          <rect x="43.875" width="20.125" height="20.875" />
          <rect x="22.125" y="43.125" width="19.75" height="20.875" />
          <rect x="43.875" y="22.875" width="20.125" height="18.25" />
          <rect y="43.125" width="20.125" height="20.875" />
          <rect x="43.875" y="43.125" width="20.125" height="20.875" />
          <rect width="20.125" height="20.875" />
        </g>
      </symbol>
    </svg>
    <svg display='none' xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
      x="0px" y="0px">
      <symbol id="masonry" viewBox="0 0 64 80">
        <rect x="22.667" y="44.125" width="18.667" height="19.875" />
        <polygon
          points="22.667,0 22.667,24.958 22.667,26.958 22.667,42.125 41.334,42.125 41.334,20.667 41.334,18.667 41.334,0" />
        <rect x="43.334" width="20.666" height="18.667" />
        <polygon points="43.334,20.667 43.334,42.125 43.334,44.125 43.334,64 64,64 64,20.667" />
        <polygon points="20.667,44.125 20.667,42.125 20.667,26.958 0,26.958 0,64 20.667,64" />
        <rect width="20.667" height="24.958" />
      </symbol>
    </svg>
    <!-- image buttons -->
    <!-- <circle cx="20" cy="20" r="20" fill="#aaa5" stroke="none"/> -->
    <svg display='none' xmlns="http://www.w3.org/2000/svg">
      <symbol id="svg--left" viewBox="0 0 24 24">
        <path d="M 17,2 L 7,12 L 17,22" fill="none" stroke-width="2px"></path>
      </symbol>
    </svg>
    <svg display='none' xmlns="http://www.w3.org/2000/svg">
      <symbol id="svg--right" viewBox="0 0 24 24">
        <path d="M 7,2 L 17,12 L 7,22" fill="none" stroke-width="2px"></path>
      </symbol>
    </svg>
    <!-- JAVASCRIPT -->
    <!-- <script src="https://npmcdn.com/colcade@0/colcade.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js"
      integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy"
      crossorigin="anonymous"></script>
    <script src="/js/simple-masonry-compiled.js"></script>
    <script src="/js/loaduser.js"></script>
    <script src="/js/colcade.js"></script>
  </body>

</html>